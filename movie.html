<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html">
    <link rel="stylesheet" href="nkml.css">
  </head>
  <body>
    <div class="header">
      <img src="img/logo_nkm_weiss_neu.png" />
      <h2>Das Naturkundemuseum Leipzig präsentiert</h2>
    </div>
    <div class="yt">
      <video id="theplayer" autoplay="autoplay" height="360px" controls="controls">
        <source id="mediasource" type="video/mp4">
          <p>Schade!</p>
          Dein Browser unterstützt leider keine Videovidergabe.
      </video>
      <p>Das funktioniert am besten mit Chromium/Chrome. Du kannst hier ein Video erwarten.</p>
    </div>
    <div class="footer">
      <footer>
        <ul>
          <li><a href="http://www.leipzig.de/impressum/">Impressum</a></li>
          <li><a href="http://www.leipzig.de/datenschutzerklaerung/">Datenschutzerklärung</a></li>
          <li><a href="https://www.leipzig.de/kontakt/">Kontakt</a></li>
        </ul>
      </footer>
    </div>
    <script>

    var player = document.getElementById("theplayer");

    var urlParams;
    (window.onpopstate = function () {
        var match,
            pl     = /\+/g,  // Regex for replacing addition symbol with a space
            search = /([^&=]+)=?([^&]*)/g,
            decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
            query  = window.location.search.substring(1);

        urlParams = {};
        while (match = search.exec(query))
        urlParams[decode(match[1])] = decode(match[2]);
    })();


    player.src = "https://kunstpixel.github.io/2DWorld/videos/"+urlParams["media"];
    
    player.focus();

    player.onloadeddata = function() {
        player.play();
    };
    document.getElementById("mediasource").play();
    player.load();
    
</script>
</body></html>
